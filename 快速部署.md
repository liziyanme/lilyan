# LZY's Diary — 快速部署（照着做）

---

## 第一步：Supabase 执行 SQL（约 2 分钟）

打开 [Supabase Dashboard](https://supabase.com/dashboard) → 你的项目 → **SQL Editor**，依次执行：

1. **supabase-schema.sql**（全部复制 → 粘贴 → Run）
2. **supabase-rls-auth.sql**（全部复制 → 粘贴 → Run）
3. **supabase-comment.sql**（全部复制 → 粘贴 → Run，评论功能用）

Storage → New bucket → 桶名 `diary-images`，勾选 Public → Create

---

## 第二步：推送到 GitHub（约 3 分钟）

**若提示「git 不是内部或外部命令」**：需先安装 Git → [git-scm.com/download/win](https://git-scm.com/download/win) 下载安装，安装后**重新打开终端**。

在 Cursor 或 VS Code 终端，项目根目录 `c:\diary` 执行：

```bash
cd c:\diary
git init
git add .
git commit -m "Initial"
```

到 [GitHub.com](https://github.com) 新建仓库（如 `lzy-diary`），然后：

```bash
git remote add origin https://github.com/你的用户名/lzy-diary.git
git branch -M main
git push -u origin main
```

**不想用 Git？** 可用 Vercel CLI 直传：安装 Node.js 后，在 `c:\diary` 执行 `npx vercel`，按提示登录并部署（需填写环境变量）。

---

## 第三步：Vercel 部署（约 2 分钟）

1. 打开 [vercel.com](https://vercel.com) → 用 GitHub 登录
2. **Add New** → **Project** → 选 `lzy-diary` → **Import**
3. **Environment Variables** 添加：
   - `NEXT_PUBLIC_SUPABASE_URL` = 你的 Supabase URL
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY` = 你的 anon 公钥（eyJ 开头）
4. 点 **Deploy**，等 1～2 分钟

---

## 第四步：Supabase 配置域名（1 分钟）

部署完成后，Vercel 会给域名如 `lzy-diary.vercel.app`。

Supabase → **Authentication** → **URL Configuration**：

- **Site URL** 填：`https://你的vercel域名.vercel.app`
- **Redirect URLs** 添加：`https://你的vercel域名.vercel.app/**`

---

## 完成

用手机或电脑打开你的 Vercel 域名，注册登录即可使用。

**访客统计**：访问会自动写入 Supabase 的 `visitor` 表（IP、设备、路径），在 Supabase → Table Editor → visitor 可查看。

晚安，好好休息。
