# 本地安装说明（一步一步来）

## 第一步：打开终端

1. 在 Cursor 里按键盘 **Ctrl + `**（反引号在数字 1 左边）
2. 或者点顶部菜单 **终端** → **新建终端**
3. 底部会出现一个可以打字的黑色/白色窗口，那就是终端

---

## 第二步：确认在项目目录（重要）

终端**必须**在含有 **package.json** 和 **src** 的文件夹里。

- 如果 Cursor 打开的是 **c:\diary**（或 **C:\diary**），在终端输入：
  ```
  cd c:\diary
  ```
- 如果 Cursor 打开的是 **C:\Users\lzyan\.cursor\projects\c-diary**，这个文件夹里**没有** package.json，需要先打开正确项目：菜单 **文件 → 打开文件夹**，选择你电脑上**有 package.json 和 src 文件夹**的那个「diary」项目，再在**新终端**里执行：
  ```
  cd c:\diary
  ```
  或你实际项目所在路径（例如 `cd D:\diary`）。

---

## 第三步：安装依赖

在终端里输入（复制粘贴后按回车）：

```
npm install
```

等它跑完（可能一两分钟），出现类似 `added 1 package` 或没有报错就对了。

---

## 第四步：环境变量（已帮你配好）

项目里已经有 **`.env.local`** 文件，里面写好了你的 Supabase 地址和公钥，不用再改。

**注意**：secret key（`sb_secret_...`）不要写在代码或环境变量里，只放在 Supabase 后台用；前端只用 publishable key。

---

## 第五步：启动项目

在终端里输入：

```
npm run dev
```

等出现 **Local: http://localhost:3000** 后，用浏览器打开 **http://localhost:3000** 就能看到网站。

---

## 遇到问题？

- **“npm 不是内部或外部命令”**：需要先安装 Node.js，到 https://nodejs.org 下载安装。
- **PowerShell 禁止运行脚本**：在终端输入 `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`，回车后输入 `Y` 再回车，然后再试 `npm install`。
- **终端打不了字**：用鼠标点一下终端窗口内部再试；如果是 `npm run dev` 正在跑，就再新建一个终端（点终端面板的 **+**）再输入命令。
- **注册/登录没提示、进不去**：1) 确认终端在 c:\diary（含 package.json 和 .env.local）；2) .env.local 里要有 NEXT_PUBLIC_SUPABASE_URL 和 NEXT_PUBLIC_SUPABASE_ANON_KEY；3) 修改 .env.local 后必须重启 npm run dev
